{"version":3,"sources":["react-editor.js","components/Item.js","index.js","pages/Home.js","pages/Basic.js","components/Text.js","components/List.js"],"names":["context","EditablePage","props","prop","key","value","console","error","setContextProp","config","log","Item","componentMappings","title","main","header","metadata","content","parentTemplateId","text","list","item","App","state","pathname","window","location","fetch","replace","RegExp","pagesRes","json","page","EditorContextHelper","inEditor","templateDefinitionsRes","templateDefinitions","headerRes","this","setState","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wMAEMA,EAAU,GAUhB,SAASC,EAAaC,GAWpB,OAnBF,SAAwBC,GAAO,IACrBC,EAAeD,EAAfC,IAAKC,EAAUF,EAAVE,MAERA,GAAOC,QAAQC,MAAM,iBAAmBH,GAE7CJ,EAAQI,GAAOC,EAMfG,CAAe,CAAEJ,IAAK,SAAUC,MAFbH,EAAXO,SAIRH,QAAQI,IAAIV,GAML,uCCjBMW,ICKTF,EAAS,CACbG,kBAAmB,CACjB,oBCVJ,SAAcV,GAAQ,IACZW,EAAkCX,EAAlCW,MAAOC,EAA2BZ,EAA3BY,KAAMC,EAAqBb,EAArBa,OAAQC,EAAad,EAAbc,SAE7B,OACE,gCACE,6BAAKH,IACJE,GAAU,cAAC,eAAD,CAAcE,QAASF,EAAQG,iBAAkBF,EAAS,mBACpEF,GAAQ,cAAC,eAAD,CAAcG,QAASH,EAAMI,iBAAkBF,EAAS,uBDInE,qBEXJ,SAAed,GAAQ,IACbW,EAA0BX,EAA1BW,MAAOC,EAAmBZ,EAAnBY,KAAME,EAAad,EAAbc,SAErB,OACE,gCACE,6BAAKH,IACJC,GAAQ,cAAC,eAAD,CAAcG,QAASH,EAAMI,iBAAkBF,EAAS,uBFMnE,yBGbJ,SAAcd,GACZ,OAAO,8BAAMA,EAAMiB,QHajB,yBIbJ,SAAcjB,GAAQ,IACZkB,EAAmBlB,EAAnBkB,KAAMJ,EAAad,EAAbc,SAEd,OAAO,6BAAKI,GAAQ,cAAC,eAAD,CAAcH,QAASG,EAAMF,iBAAkBF,EAAS,sBJW1E,yBDfJ,SAAcd,GACZ,OAAO,6BAAKA,EAAMmB,UCkBdC,E,4MACJC,MAAQ,G,qMAGAC,EAAWC,OAAOC,SAASF,S,SAGVG,MACrB,gDAEEH,EAASI,QAAQ,IAAIC,OAAO,qBAA8B,KAAM,K,cAH9DC,E,gBAKaA,EAASC,O,UAAtBC,E,QAEFC,sBAAoBC,W,kCACeP,MACnC,+CAAiDK,EAAK,kB,eADlDG,E,iBAIsBA,EAAuBJ,O,QAAnDK,E,kBAGe,kCAAbZ,E,kCACsBG,MAAM,wD,eAAxBU,E,iBAESA,EAAUN,O,QAAzBhB,E,eAGFuB,KAAKC,SAAS,CAAEP,OAAMI,sBAAqBrB,W,sIAGnC,IAAD,EACuCuB,KAAKf,MAA3CS,EADD,EACCA,KAAMI,EADP,EACOA,oBADP,EAC4BrB,OAEnC,OACE,8BAEGiB,GAAQvB,GAAU,cAACR,EAAD,CAAcgB,QAASe,EAAMvB,OAAQA,EAAQ2B,oBAAqBA,U,GArC3EI,IAAMC,WA2CxBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.44e42bd9.chunk.js","sourcesContent":["import React from 'react';\n\nconst context = {};\n\nfunction setContextProp(prop) {\n  const { key, value } = prop;\n\n  if (!value) console.error('Missing prop: ' + key);\n\n  context[key] = value;\n}\n\nfunction EditablePage(props) {\n  const { config } = props;\n\n  setContextProp({ key: 'config', value: config });\n\n  console.log(context);\n\n  // const template = config.templates[props['mgnl:template']];\n\n  // return template ? React.createElement(template, props) : null;\n\n  return <div>Page</div>;\n}\n\nexport { EditablePage };\n","import React from 'react';\n\nfunction Item(props) {\n  return <li>{props.item}</li>;\n}\n\nexport default Item;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { EditableArea, EditorContextHelper } from '@magnolia/react-editor';\nimport { EditablePage } from './react-editor';\nimport Home from './pages/Home';\nimport Basic from './pages/Basic';\nimport Text from './components/Text';\nimport List from './components/List';\nimport Item from './components/Item';\n\nconst nodeName = 'spa-home';\nconst config = {\n  componentMappings: {\n    'spa-lm:pages/Home': Home,\n    'spa-lm:pages/Basic': Basic,\n    'spa-lm:components/Text': Text,\n    'spa-lm:components/List': List,\n    'spa-lm:components/Item': Item,\n  },\n};\n\nclass App extends React.Component {\n  state = {};\n\n  async componentDidMount() {\n    const pathname = window.location.pathname;\n    let templateDefinitions;\n    let header;\n    const pagesRes = await fetch(\n      '/magnoliaAuthor/.rest/delivery/pages/' +\n        nodeName +\n        pathname.replace(new RegExp('(.*' + nodeName + '|.html)', 'g'), '')\n    );\n    const page = await pagesRes.json();\n\n    if (EditorContextHelper.inEditor()) {\n      const templateDefinitionsRes = await fetch(\n        '/magnoliaAuthor/.rest/templateDefinition/v1/' + page['mgnl:template']\n      );\n\n      templateDefinitions = await templateDefinitionsRes.json();\n    }\n\n    if (pathname !== '/magnoliaAuthor/' + nodeName + '.html') {\n      const headerRes = await fetch('/magnoliaAuthor/.rest/delivery/pages/' + nodeName + '/header');\n\n      header = await headerRes.json();\n    }\n\n    this.setState({ page, templateDefinitions, header });\n  }\n\n  render() {\n    const { page, templateDefinitions, header } = this.state;\n\n    return (\n      <div>\n        {/* {header && <EditableArea content={header} />} */}\n        {page && config && <EditablePage content={page} config={config} templateDefinitions={templateDefinitions} />}\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { EditableArea } from '@magnolia/react-editor';\n\nfunction Home(props) {\n  const { title, main, header, metadata } = props;\n\n  return (\n    <div>\n      <h1>{title}</h1>\n      {header && <EditableArea content={header} parentTemplateId={metadata['mgnl:template']} />}\n      {main && <EditableArea content={main} parentTemplateId={metadata['mgnl:template']} />}\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport { EditableArea } from '@magnolia/react-editor';\n\nfunction Basic(props) {\n  const { title, main, metadata } = props;\n\n  return (\n    <div>\n      <h1>{title}</h1>\n      {main && <EditableArea content={main} parentTemplateId={metadata['mgnl:template']} />}\n    </div>\n  );\n}\n\nexport default Basic;\n","import React from 'react';\n\nfunction Text(props) {\n  return <div>{props.text}</div>;\n}\n\nexport default Text;\n","import React from 'react';\nimport { EditableArea } from '@magnolia/react-editor';\n\nfunction List(props) {\n  const { list, metadata } = props;\n\n  return <ul>{list && <EditableArea content={list} parentTemplateId={metadata['mgnl:template']} />}</ul>;\n}\n\nexport default List;\n"],"sourceRoot":""}